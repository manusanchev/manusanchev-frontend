---
import { getCollection } from "astro:content";
import ProjectCard from "@/components/project/card/ProjectCard.astro";
import { collections } from "@/types/collections";

const allProjects = await getCollection(collections.PROJECTS);
const sortedProjects = allProjects.sort(
  (a, b) =>
    Number(new Date(b.data.sortDate)) - Number(new Date(a.data.sortDate)),
);
---

<div>
  <p class="text-neutral-800 dark:text-neutral-300 mb-2 font-medium">
    Proyectos
  </p>
  <section class="grid grid-cols-1 md:grid-cols-2 gap-2">
    {
      sortedProjects.map((project) => {
        return <ProjectCard project={project.data} />;
      })
    }
  </section>
</div>
