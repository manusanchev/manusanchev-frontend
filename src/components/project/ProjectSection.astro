---
import { getCollection } from "astro:content";
import ProjectCard from "@/components/project/card/ProjectCard.astro";
import { collections } from "@/types/collections";

const allProjects = await getCollection(collections.PROJECTS);
const sortedProjects = allProjects.sort(
  (a, b) =>
    Number(new Date(b.data.sortDate)) - Number(new Date(a.data.sortDate)),
);
---

<div>
  <p class="flex text-sm items-center gap-2 font-mono text-base text-neutral-900 dark:text-neutral-200 mb-2">
    <span class="select-none">
      <span class="text-green-700">manu@dev<span class="text-neutral-500 dark:text-neutral-400">:~$</span></span>
    
    </span>
    <span class="text-neutral-900 dark:text-white opacity-100">
      ls proyectos
    </span>
  </p>
  <section class="grid grid-cols-1 md:grid-cols-2 gap-2">
    {
      sortedProjects.map((project) => {
        return <ProjectCard project={project.data} />;
      })
    }
  </section>
</div>
